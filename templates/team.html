{% extends "base.html" %}

{% block title %}Home{% endblock %}

{% block content %}

     <style> 
        .pokemon-card{ 
                width: 20rem;  height: 30rem !important; display: flex; flex-direction: column; overflow: hidden; box-sizing: border-box; padding: 0.5rem; 
            } 

        .pokemon-card img{ 
                 display: block; margin: 1rem auto 1rem auto; width: 180px; height: auto; image-rendering: pixelated; 
            }

        .pokemon-card .card-body{ 
                display: flex; flex-direction: column; flex: 1 1 auto; overflow: hidden; padding: 0.75rem; /* ensure text and actions have space */ 
            }  

        .pokemon-card .card-title{ 
                margin-bottom: 0.25rem; 
            } 

        .pokemon-card .card-text{ 
                flex: 1 1 auto; overflow: auto; margin-top: 0; /* preserve distance from title/type */ margin-bottom: 0.75rem; /* small gap before the actions row */ 
            } 
            
        .pokemon-card .card-actions{ 
                margin-top: auto; display: flex; gap: 0.5rem; align-items: center; flex-wrap: nowrap; padding-bottom: 0.25rem; /* extra space from bottom edge */ 
            } 
        .row{ 
                row-gap: 1rem; /* adds vertical space between wrapped rows of cards */ 
            } 

        .type-icons {
            display: flex;
            gap: 0.25rem;
            margin-top: 0.25rem;
        }

        .pokemon-card img.type-icon {
            width: 56px !important;
            height: auto !important;
            image-rendering: pixelated
        }

        .name-with-types {
            display: inline-flex;
            align-items: center;
            gap: 0.25rem;
        }

       
        </style>      
        <div class="row"> 
            {% for pokemon in meow %} 
            <div class="col-md-4 d-flex align-items-stretch"> 
                <div class="card pokemon-card" style="width: 20rem; height: 26rem;"> 
                    {% if pokemon.shiny %} 
                        <img src="{{ pokemon.sprites.front_shiny }}" alt="{{ pokemon.name }}"> 

                    {% else %} <img src="{{ pokemon.sprites.front_default }}" alt="{{ pokemon.name }}"> 

                    {% endif %} 

                    <div class="card-body"> 
                       <h5 class="card-title">
                            <span class="name-with-types">
                                {{ pokemon.name|capitalize }}

                                {% for type in pokemon.types %}
                                    <img class="type-icon" src="{{ type_icons[type.type.name] }}" alt="{{ type.type.name }}">
                                {% endfor %}
                            </span>
                        </h5>

                    <p class="card-text"> 
                        <strong>Pokedex Entry:</strong> 
                        {{ pokemon.flavor_text }} </p> 
                        <div class="card-actions"> 
                            <a href="{{ url_for('pokemon_details', name=pokemon.name) }}" class="btn btn-primary">View Details</a> 
                            <form action="{{url_for('delete_item' , id=pokemon.db_id)}}" 
                                method="post" style="display: inline"> <button type="submit" 
                                class="btn btn-danger" 
                                onclick="return confirm('Are you sure you want to delete this item?');"> Delete</button> 
                            </form> 
                        </div> 
                    </div> 
                </div> 
            </div> 

     {% endfor %} 
    

   
{% endblock %}
 